<div class="row">
  <h2>Workers</h2>
  <h5><i>Combine different worker groups to see which specializations are covered</i></h5>
</div>


<div class="row tier1 tier-title">
  <i>tier 1</i>
</div>

<div class="row tier1">
  <div ng-repeat="worker in tier1Workers track by $index"
       class="col-md-2">
    <div class="checkbox worker-checkbox">
      <label>
        <input type="checkbox" name="worker{{$index}}" ng-model="$parent.workersTier1[$index]" ng-value="$index"/>
        <x-worker></x-worker>
      </label>
    </div>
  </div>
</div>

<div class="row tier2 tier-title">
  <i>tier 2</i>
</div>

<div class="row tier2">
  <div ng-repeat="worker in tier2Workers track by $index"
       class="col-md-2">
    <div class="checkbox worker-checkbox">
      <label>
        <input type="checkbox" name="worker{{$index}}" ng-model="$parent.workersTier2[$index]" ng-value="$index"/>
        <x-worker></x-worker>
      </label>
    </div>
  </div>
</div>

<div class="row tier3 tier-title">
  <i>tier 3</i>
</div>

<div class="row tier3">
  <div ng-repeat="worker in tier3Workers track by $index"
       class="col-md-2">
    <div class="checkbox worker-checkbox">
      <label>
        <input type="checkbox" name="worker{{$index}}" ng-model="$parent.workersTier3[$index]" ng-value="$index"/>
        <x-worker></x-worker>
      </label>
    </div>
  </div>
</div>

<div class="row">
  <h5><i>Specify every workers level and decide how many points to spend in every skill and mastery</i></h5>
</div>

<div class="row" style="padding-top: 10px;">
  <table>
    <tr>
      <th>Name</th>
      <th>Level</th>
      <th>Points</th>
      <th>Points left</th>
      <th ng-repeat="spec in workerStructure.specializations" style="width: 150px;">
        <x-spec></x-spec>
      </th>
    </tr>
    <tr ng-repeat="worker in selectedWorkers() track by $index">
      <td>{{worker.name}}</td>
      <td><input type="number" ng-model="worker.level" min="0" max="40" class="level"></td>
      <td style="text-align: right">{{getPoints(worker)}}</td>
      <td style="text-align: right">{{pointsToSpend(worker)}}</td>
      <td ng-repeat="spec in workerStructure.specializations">
        <div ng-show="showPoints(worker, spec)" style="white-space: nowrap;" class="worker-points-div">
          <input type="image" ng-click="changePoints(worker, spec, -1)" src="images/minus.png"></input>
          <label class="worker-points">{{worker.points[spec.name]}}</label>
          <input type="image" ng-click="changePoints(worker, spec, 1)" src="images/plus.png"></input>
        </div>
      </td>
    </tr>
    <tr>
      <td class="totals">Totals</td>
      <td class="totals"></td>
      <td class="totals"></td>
      <td class="totals"></td>
      <td ng-repeat="spec in workerStructure.specializations track by $index" class="totals">
        {{getSpecPoints(spec)}}
      </td>
    </tr>
  </table>
</div>


